!function(e){function t(t){for(var n,r,i=t[0],m=t[1],s=t[2],u=0,d=[];u<i.length;u++)r=i[u],Object.prototype.hasOwnProperty.call(l,r)&&l[r]&&d.push(l[r][0]),l[r]=0;for(n in m)Object.prototype.hasOwnProperty.call(m,n)&&(e[n]=m[n]);for(o&&o(t);d.length;)d.shift()();return c.push.apply(c,s||[]),a()}function a(){for(var e,t=0;t<c.length;t++){for(var a=c[t],n=!0,i=1;i<a.length;i++){var m=a[i];0!==l[m]&&(n=!1)}n&&(c.splice(t--,1),e=r(r.s=a[0]))}return e}var n={},l={14:0},c=[];function r(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=n,r.d=function(e,t,a){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(a,n,function(t){return e[t]}.bind(null,n));return a},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="";var i=window.webpackJsonp=window.webpackJsonp||[],m=i.push.bind(i);i.push=t,i=i.slice();for(var s=0;s<i.length;s++)t(i[s]);var o=m;c.push([309,0,1,2,4,7,17,3,5]),a()}({309:function(e,t,a){e.exports=a(318)},312:function(e,t,a){},318:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),c=a(16),r=a.n(c),i=a(27),m=a(82),s=a(213),o=a(173),u=a(56),d=a(18),E=a(214),p=a(341);function h(e){let t;return(null==e?void 0:e.vipEndTime)&&Object(E.a)(t=new Date(e.vipEndTime))?{isOpened:!0,text:"续费会员",endTime:Object(p.a)(t,"yyyy-MM-dd HH:mm:ss")}:{isOpened:!1,text:"开通会员"}}const b=l.a.createContext();var g=a(93);const f=o.M.create({maxToasts:2});var v=Object(n.forwardRef)((function(e,t){const[a,c]=Object(n.useState)(!1),[r,i]=Object(n.useState)("");Object(n.useImperativeHandle)(t,(()=>({async syncOptions(){let e;try{e=await Object(g.b)()}catch(e){return}"string"!=typeof e?(i(e.date),c(!0)):f.show({intent:"success",message:l.a.createElement(l.a.Fragment,null,"uploaded"===e&&"已将划词翻译设置上传到服务器。","not-modified"===e&&"划词翻译设置已经是最新的了，无需更新。","server-data-error"===e&&"服务器保存的划词翻译设置数据有误，请稍后重试。如果多次出现这种情况，请反馈给我。","covered"===e&&"已更新划词翻译设置。")})}})),[]);const m=new Date(r),s=Object(E.a)(m)?Object(p.a)(m,"yyyy-MM-dd HH:mm:ss"):"";return l.a.createElement(o.a,{isOpen:a,cancelButtonText:"否",confirmButtonText:"是",onCancel:async()=>{c(!1);try{await Object(g.c)(),f.show({intent:"success",message:"上传成功"})}catch(e){}},onConfirm:async()=>{let e;c(!1);try{e=await Object(g.a)(!0)}catch(e){return}f.show({intent:"success",message:l.a.createElement(l.a.Fragment,null,"no-data"===e&&"服务器没有保存过划词翻译设置，请先将本地设置上传。","not-modified"===e&&"划词翻译设置已经是最新的了，无需更新。","server-data-error"===e&&"服务器保存的划词翻译设置数据有误，请稍后重试。如果多次出现这种情况，请反馈给我。","covered"===e&&"已更新划词翻译设置。")})}},l.a.createElement(o.p,null,"是否要更新您的设置？"),l.a.createElement("p",null,"您于 ",s," ","同步过的设置跟您现在登录的划词翻译里的设置不一致，是否要用同步过的设置覆盖您现在的划词翻译设置？"),l.a.createElement("p",null,"如果选择否，划词翻译会将您现在的设置上传到服务器。"))})),y=a(217);function k(){const{user:e,setUser:t,setShowVip:a,setShowLogin:c}=Object(n.useContext)(b),r=h(e),i=Object(n.useRef)(null),m=()=>{a(!0)},[s,u]=Object(y.a)((async()=>{await d.a.post("/logout"),t(null),browser.storage.local.remove(["optionsSyncAt","favoritesSyncAt","historiesSyncAt"])}),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{ref:i}),l.a.createElement(o.y,{fixedToTop:!0},l.a.createElement(o.A,{align:"left"},l.a.createElement(o.B,null,"划词翻译"," ",l.a.createElement("span",{className:"bp3-text-small"},"v",browser.runtime.getManifest().version))),l.a.createElement(o.A,{align:"right"},l.a.createElement(o.b,{minimal:!0,icon:"home",text:"官方网站",href:"https://hcfy.limingkai.cn",target:"_blank",rel:"noreferrer"}),l.a.createElement(o.b,{icon:"git-repo",text:"更新日志",minimal:!0,href:"https://hcfy.limingkai.cn/log.html",target:"_blank",rel:"noreferrer"}),l.a.createElement(o.b,{icon:"issue",minimal:!0,text:"反馈问题",href:"https://hcfy.limingkai.cn/issues.html",target:"_blank",rel:"noreferrer"}),l.a.createElement(o.z,null),l.a.createElement(o.d,{icon:"refresh",text:"同步设置",onClick:()=>{var t;(null==e?void 0:e.vipActivated)?null===(t=i.current)||void 0===t||t.syncOptions():m()},style:{marginRight:"10px"}}),l.a.createElement(o.D,{interactionKind:"hover",position:"bottom",content:l.a.createElement("div",{style:{padding:"10px",width:"300px"}},l.a.createElement("p",null,"开通会员后，划词翻译会在你每次更改设置后自动将设置上传到服务器。"),l.a.createElement("div",null,"另外，划词翻译会在后台每隔一小时检查设置是否有变更，你也可以点击“同步设置”按钮立刻进行一次检查。"))},l.a.createElement(o.t,{icon:"help"})),l.a.createElement(o.z,null),!e&&l.a.createElement(o.d,{icon:"log-in",minimal:!0,onClick:()=>{c(!0)},text:"登录"}),e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(o.D,{interactionKind:"click",hoverOpenDelay:0,position:"bottom",onOpened:async()=>{const e=await d.a.get("/user-info");t(e.data)},content:l.a.createElement("div",{style:{padding:"10px"}},!r.isOpened&&l.a.createElement("p",null,"你还没有开通过会员。"),e.vipActivated&&l.a.createElement("p",null,"会员将在 ",r.endTime," 到期。"),r.isOpened&&!e.vipActivated&&l.a.createElement("p",null,"会员已于 ",r.endTime," 过期。"),l.a.createElement("p",{className:"bp3-popover-dismiss"},l.a.createElement(o.d,{fill:!0,text:r.text,onClick:m})),l.a.createElement("div",null,l.a.createElement(o.d,{fill:!0,icon:"log-out",loading:s.loading,onClick:u,text:"退出登录"})))},l.a.createElement(o.d,{minimal:!0,text:e.email,rightIcon:"caret-down"}))))))}var x=a(10),O=a(6),w=a(86);const C=Object(w.a)(O.a,["pdfAuto","notifySyncOptions"]),j="chrome://extensions/?id="+browser.runtime.id;function T(){browser.tabs.create({url:j})}function S(){const{darkMode:e,setDarkMode:t}=Object(u.a)(),[a,c]=Object(x.a)(C),{hasPer:r,requestPer:i}=function(e){const[t,a]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{function t(){browser.permissions.contains({permissions:[e]}).then(a)}return t(),browser.permissions.onAdded.addListener(t),browser.permissions.onRemoved.addListener(t),()=>{browser.permissions.onAdded.removeListener(t),browser.permissions.onRemoved.removeListener(t)}}),[e]),{hasPer:t,requestPer:()=>{browser.permissions.request({permissions:[e]}).then(a)}}}("notifications");return l.a.createElement("div",null,l.a.createElement(o.n,{id:"通用"},"通用"),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"深色模式"},"深色模式"),l.a.createElement(o.m,{inline:!0},l.a.createElement(o.F,{inline:!0,onChange:e=>{t(e.target.value)},selectedValue:e},l.a.createElement(o.E,{label:"开",value:"open"}),l.a.createElement(o.E,{label:"关",value:"close"}),l.a.createElement(o.E,{label:"跟随系统",value:"system"})))),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"PDF"},"PDF"),l.a.createElement(o.e,{title:"内置 PDF 阅读器",intent:"primary"},l.a.createElement("p",null,"划词翻译内置了一个 PDF 阅读器，在这个阅读器中打开的 PDF 文件可以正常使用网页划词功能。"),l.a.createElement("p",null,"你可以使用以下几种方式打开内置的 PDF 阅读器："),l.a.createElement("ul",null,l.a.createElement("li",null,"点击浏览器地址栏右侧的划词翻译图标，在弹出来的弹窗中单击“内置 PDF 阅读器”按钮。"),l.a.createElement("li",null,"在网页中一个指向 PDF 文件的链接上单击鼠标右键，选择“在划词翻译中打开此 PDF”。"),l.a.createElement("li",null,"使用浏览器自带的 PDF 阅读器打开 PDF 文件后，鼠标右键单击页面，选择“在划词翻译中打开此 PDF”。")),l.a.createElement(o.q,null,"如何打开电脑中的 PDF 文件"),l.a.createElement("p",null,"请先在",l.a.createElement("a",{onClick:T},"划词翻译的详细信息界面"),"勾选“允许访问文件网址”，然后可以用以下方式打开："),!1,l.a.createElement("ul",null,l.a.createElement("li",null,"如果你启用了下面的“自动打开 PDF”选项，那么只需要将 PDF 文件拖放到浏览器中即可。"),!1,l.a.createElement("li",null,"打开内置的 PDF 阅读器，然后将 PDF 文件拖放进去。"))),l.a.createElement(o.m,{helperText:"开启后，在浏览器中打开 PDF 文件时会自动跳转到划词翻译的内置 PDF 阅读器。"},l.a.createElement(o.g,{label:"自动打开 PDF",checked:a?a.pdfAuto:C.pdfAuto,onChange:e=>{c({pdfAuto:e.target.checked})}}))),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"通知"},"通知"),!r&&l.a.createElement(o.e,{intent:"warning",title:"划词翻译需要获得你的授权才能显示通知"},l.a.createElement(o.d,{intent:"primary",onClick:i,text:"允许划词翻译显示通知"})),l.a.createElement(o.m,{inline:!0},l.a.createElement(o.g,{label:"在后台同步设置之后显示通知",checked:a?a.notifySyncOptions:C.notifySyncOptions,onChange:e=>{c({notifySyncOptions:e.target.checked})},disabled:!r}))))}var N=a(36),P=a.n(N);function F(){const[e,t]=Object(n.useState)(!1);return l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{onClick:()=>{t(!0)}},"查看范例"),l.a.createElement(o.k,{isOpen:e,onClose:()=>{t(!1)},title:"范例",className:"example-dialog"},l.a.createElement("div",{className:"bp3-dialog-body"},l.a.createElement(o.s,{bordered:!0,condensed:!0,striped:!0},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"规则"),l.a.createElement("th",null,"匹配的网址"),l.a.createElement("th",null,"不匹配的网址"))),l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"*/*"),l.a.createElement("p",null,"匹配任意网址。")),l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn"),l.a.createElement("p",null,"hcfy.limingkai.cn"),l.a.createElement("p",null,"baidu.com/search"),l.a.createElement("p",null,"jd.com/item.html")),l.a.createElement("td",null,l.a.createElement("p",null,"没有不匹配的网址"))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"*.limingkai.cn/*"),l.a.createElement("p",null,"匹配 ",l.a.createElement(o.h,null,"limingkai.cn")," 或者所有域名以"," ",l.a.createElement(o.h,null,".limingkai.cn")," 结尾的网址，网址可以有任意路径。")),l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn"),l.a.createElement("p",null,"hcfy.limingkai.cn"),l.a.createElement("p",null,"hcfy.limingkai.cn/path"),l.a.createElement("p",null,"aaa.hcfy.limingkai.cn")),l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.org ",l.a.createElement(o.K,null,"域名不匹配")),l.a.createElement("p",null,"baidu.com ",l.a.createElement(o.K,null,"域名不匹配")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn/*"),l.a.createElement("p",null,"匹配域名是 ",l.a.createElement(o.h,null,"limingkai.cn")," 的所有网址。")),l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn"),l.a.createElement("p",null,"limingkai.cn/path")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn ",l.a.createElement(o.K,null,"域名不匹配")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn/"),l.a.createElement("p",null,"仅匹配 ",l.a.createElement(o.h,null,"limingkai.cn")," 这一个网址。")),l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn ",l.a.createElement(o.K,null,"域名不匹配")),l.a.createElement("p",null,"limingkai.cn/path ",l.a.createElement(o.K,null,"路径不匹配")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"*/path"),l.a.createElement("p",null,"匹配任意域名的网址，但路径部分只能是 ",l.a.createElement(o.h,null,"path"),"。")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn/path"),l.a.createElement("p",null,"baidu.com/path")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn/a ",l.a.createElement(o.K,null,"路径不匹配")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"*/path/"),l.a.createElement("p",null,"匹配任意域名，但路径部分只能是 ",l.a.createElement(o.h,null,"path/"),"。跟上个例子相比，路径末尾多了一个 ",l.a.createElement(o.h,null,"/"),"。")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn/path/"),l.a.createElement("p",null,"baidu.com/path/")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn/path ",l.a.createElement(o.K,null,"路径不匹配")),l.a.createElement("p",null,"hcfy.limingkai.cn/path/a ",l.a.createElement(o.K,null,"路径不匹配")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn/*path*"),l.a.createElement("p",null,"匹配 ",l.a.createElement(o.h,null,"hcfy.limingkai.cn")," 域名且路径中包含"," ",l.a.createElement(o.h,null,"path")," 的网址。")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn/path"),l.a.createElement("p",null,"hcfy.limingkai.cn/abcpath"),l.a.createElement("p",null,"hcfy.limingkai.cn/abc/path"),l.a.createElement("p",null,"hcfy.limingkai.cn/abc/pathdef"),l.a.createElement("p",null,"hcfy.limingkai.cn/abc/path/def")),l.a.createElement("td",null,l.a.createElement("p",null,"hcfy.limingkai.cn/paXth ",l.a.createElement(o.K,null,"路径不匹配")),l.a.createElement("p",null,"hcfy.limingkai.cn/pa/th ",l.a.createElement(o.K,null,"路径不匹配")))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn/*/path/*/"),l.a.createElement("p",null,"匹配 ",l.a.createElement(o.h,null,"limingkai.cn")," 域名且路径中包含"," ",l.a.createElement(o.h,null,"path"),"、",l.a.createElement(o.h,null,"path")," 左右有路径片段且以"," ",l.a.createElement(o.h,null,"/")," 结尾的网址。")),l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn/a/path/b/"),l.a.createElement("p",null,"limingkai.cn/a/b/path/c/d/")),l.a.createElement("td",null,l.a.createElement("p",null,"limingkai.cn/path/"," ",l.a.createElement(o.K,null,l.a.createElement(o.h,null,"path")," 左右两边没有路径片段")),l.a.createElement("p",null,"limingkai.cn/a/path/"," ",l.a.createElement(o.K,null,l.a.createElement(o.h,null,"path")," 右边没有路径片段")),l.a.createElement("p",null,"limingkai.cn/path/b/"," ",l.a.createElement(o.K,null,l.a.createElement(o.h,null,"path")," 左边没有路径片段")))))))))}var D=a(23);const L={host:"",path:"/*"};function R(e,t){switch(t.type){case"reset":return L;case"merge":return{...e,...t.data};default:throw new TypeError("不支持的 action type: "+JSON.stringify(t))}}function A(e){const{isOpen:t,setIsOpen:a,onSave:c,isExists:r,name:i}=e,[m,s]=Object(n.useState)(!1),u=Object(n.useRef)(null),d=()=>{a(!1),p({type:"reset"}),f("")},[E,p]=Object(n.useReducer)(R,L),h=function(e){const t=e.host;return!!t&&("*"===t||!t.includes("*")||/^\*\.[^*]+$/.test(t))}(E),b=e=>{var t;const a=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text");if(a){const t=Object(D.a)(a);t&&(e.preventDefault(),p({type:"merge",data:t}))}},[g,f]=Object(n.useState)(""),v=h&&Object(D.d)(E,g),y=void 0!==v,k=v&&v.isHostMatch.matches&&v.isPathMatch.matches;return l.a.createElement(o.k,{canEscapeKeyClose:!1,canOutsideClickClose:!1,isOpen:t,onClose:d,onOpening:()=>{var e;null===(e=u.current)||void 0===e||e.focus()},title:"新增"+i+"规则",className:"edit-rule-dialog"},l.a.createElement("div",{className:"bp3-dialog-body"},l.a.createElement(o.m,{label:"规则的格式"},l.a.createElement("div",{className:"bp3-form-helper-text"},"规则由“网站”和“页面”两个部分组成，在这两个部分中都可以使用通配符"," ",l.a.createElement(o.h,null,"*"),"。",l.a.createElement(o.O,null,l.a.createElement("li",null,"在“网站”中：",l.a.createElement(o.O,null,l.a.createElement("li",null,"可以有一个或 0 个通配符。如果有，则必须以通配符开头；"),l.a.createElement("li",null,"如果只填写了通配符，则表示匹配所有域名；"),l.a.createElement("li",null,"如果填写了以 ",l.a.createElement(o.h,null,"*.")," ","开头的域名，则表示匹配所有以这个域名结尾的域名；"),l.a.createElement("li",null,"你也可以不使用通配符来匹配单一的域名。"))),l.a.createElement("li",null,"在“页面”中：",l.a.createElement(o.O,null,l.a.createElement("li",null,"可以使用任意多个通配符，每个通配符表示匹配 0 个或多个任意字符；"),l.a.createElement("li",null,"页面必须以 ",l.a.createElement(o.h,null,"/")," 开头；"),l.a.createElement("li",null,"页面部分默认填写了 ",l.a.createElement(o.h,null,"/*"),"，表示匹配任意页面。")))),l.a.createElement(F,null))),l.a.createElement(o.q,null,"填写规则"),l.a.createElement(o.m,null,l.a.createElement(o.j,null,l.a.createElement(o.u,{placeholder:"域名",value:E.host,inputRef:u,onChange:e=>{p({type:"merge",data:{host:e.target.value.trim()}})},onPaste:b}),l.a.createElement(o.u,{placeholder:"路径",value:E.path,onChange:e=>{let t=e.target.value.trim();"/"!==t[0]&&(t="/"+t),p({type:"merge",data:{path:t}})},onPaste:b})),E.host&&!h&&l.a.createElement(o.e,{icon:null,intent:"warning"},"域名格式不正确")),l.a.createElement(o.q,null,"测试"," ",h&&l.a.createElement(o.h,{style:{fontWeight:"normal"}},Object(D.e)(E))),l.a.createElement(o.m,null,l.a.createElement(o.u,{value:g,onChange:e=>{f(e.target.value.trim())},placeholder:"你可以填写一个网址来测试是否跟规则匹配"}),g&&!y&&l.a.createElement(o.e,{icon:null,intent:"warning"},"网址格式不正确"),v&&y&&k&&l.a.createElement(o.e,{title:"匹配"}),v&&y&&!k&&l.a.createElement(o.e,{title:"不匹配"},v.isHostMatch.matches||l.a.createElement("p",null,"网址的域名 ",l.a.createElement(o.h,null,v.isHostMatch.urlHost)," ","不匹配规则 ",l.a.createElement(o.h,null,v.isHostMatch.ruleHost)),v.isPathMatch.matches||l.a.createElement("p",null,"网址的路径 ",l.a.createElement(o.h,null,v.isPathMatch.urlPath)," ","不匹配规则 ",l.a.createElement(o.h,null,v.isPathMatch.rulePath))))),l.a.createElement("div",{className:"bp3-dialog-footer"},l.a.createElement("div",{className:"bp3-dialog-footer-actions"},l.a.createElement(o.d,{onClick:d},"取消"),l.a.createElement(o.d,{intent:"primary",onClick:()=>{var e;h?r(E)?s(!0):(c(E),d()):null===(e=u.current)||void 0===e||e.focus()}},"保存"),l.a.createElement(o.a,{confirmButtonText:"我知道了",isOpen:m,onConfirm:()=>{s(!1)}},"规则 ",l.a.createElement(o.h,null,Object(D.e)(E))," 已经有了，无需重复添加。"))))}function K(e){const{rules:t,setRules:a,name:c,disabled:r}=e,[i,m]=Object(n.useState)(!1),s=Object(n.useRef)();const[u,d]=Object(n.useState)(!1),E=()=>{d(!1),s.current=void 0};return l.a.createElement("div",{className:"domain-rules"},l.a.createElement("div",{className:"header"},l.a.createElement(o.r,null,c),l.a.createElement(o.d,{disabled:r,icon:"add",onClick:()=>{m(!0)},minimal:!0})),l.a.createElement("div",{className:"table-box"},l.a.createElement(o.s,{bordered:!0,striped:!0,condensed:!0},l.a.createElement("tbody",null,t.length?t.map((e=>{const t=Object(D.e)(e);return l.a.createElement("tr",{key:t},l.a.createElement("td",null,t),l.a.createElement("td",null,l.a.createElement(o.d,{disabled:r,minimal:!0,icon:"delete",onClick:()=>function(e){s.current=e,d(!0)}(e)})))})):l.a.createElement("tr",null,l.a.createElement("td",{colSpan:2},l.a.createElement(o.C,{title:"没有规则",description:"黑名单"===c?l.a.createElement(l.a.Fragment,null,"命中黑名单的网址会禁用网页划词"):l.a.createElement(l.a.Fragment,null,"命中白名单的网址会始终启用网页划词"),action:l.a.createElement(o.d,{disabled:r,onClick:()=>{m(!0)},intent:"primary"},"添加一条规则")})))))),l.a.createElement(o.a,{icon:"trash",intent:"danger",isOpen:u,confirmButtonText:"确定",cancelButtonText:"取消",onConfirm:()=>{if(s.current){const e=t.indexOf(s.current);if(e>=0){const n=[...t];n.splice(e,1),a(n)}}E()},onCancel:E},"确定要从",c,"中删除"," ",l.a.createElement(o.h,null,s.current?Object(D.e)(s.current):"这条规则")," ","吗？"),l.a.createElement(A,{isOpen:i,setIsOpen:m,onSave:e=>{const n=[...t];n.push(e),a(n)},isExists:e=>t.some((t=>P()(t,e))),name:c}))}var B=a(14);const M=Object(w.a)(O.a,["button","buttonAutoClose","domainBlackList","domainWhiteList","textList","placement","pin","pinPos","modifierKeys","modifierKeyPressedAction","modifierKeyTranslate","modifierKeyLink"]),I={host:"*",path:"/*"},_=[{label:"上",value:"top"},{label:"上左",value:"top-end"},{label:"上右",value:"top-start"},{label:"下",value:"bottom"},{label:"下左",value:"bottom-end"},{label:"下右",value:"bottom-start"},{label:"左",value:"left"},{label:"左上",value:"left-end"},{label:"左下",value:"left-start"},{label:"右",value:"right"},{label:"右上",value:"right-end"},{label:"右下",value:"right-start"}];function H(){browser.tabs.create({url:"chrome://extensions/shortcuts"})}const q={_execute_browser_action:"打开划词翻译的扩展弹出窗口翻译剪切板内的文本。",panel:"这是一个全局快捷键，你可以在浏览器以外的地方使用此快捷键来打开独立窗口翻译剪切板内的文本。在修改此快捷键时，请确保作用域为“全局”。"};function V(){const[e,t]=Object(n.useState)(!1),[a,c]=Object(x.a)(M),r=e=>{c((t=>{const a=t.modifierKeys.indexOf(e);a>=0?t.modifierKeys.splice(a,1):t.modifierKeys.push(e)}))},i=!(null==a?void 0:a.modifierKeys.length),m=null==a?void 0:a.domainBlackList,s=null==a?void 0:a.domainWhiteList,u=Object(n.useMemo)((()=>!!m&&m.some((e=>e.host===I.host&&e.path===I.path))),[m]),[d,E]=Object(n.useState)(""),p=Object(n.useMemo)((()=>Object(D.a)(d)),[d]),{matchedRule:h,whiteListMatched:b,blackListMatched:g}=Object(n.useMemo)((()=>p&&m&&s?Object(D.b)(p,m,s):{matchedRule:void 0,whiteListMatched:void 0,blackListMatched:void 0}),[m,s,p]),f=!!a;Object(n.useEffect)((()=>{if(f){const e=decodeURI(window.location.hash.slice(1));e&&(window.location.hash="",window.location.hash=e)}}),[f]);const[v,y]=Object(n.useState)([]);return Object(n.useEffect)((()=>{browser.commands.getAll().then(y)}),[]),a?l.a.createElement("div",{id:"selection"},l.a.createElement(o.n,{id:"网页划词"},"网页划词"),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"使用方式"},"使用方式"),l.a.createElement(o.e,{intent:"primary",title:"支持的使用方式"},l.a.createElement("p",null,"默认情况下，划词翻译会在划词后显示一个翻译按钮，点击按钮后会弹出翻译结果。"),l.a.createElement("p",null,"如果你觉得每次划词都显示按钮对你造成了干扰，你可以勾选下面“划词设置”中的“禁用网页划词”选项。你也可以在点击浏览器右上角的扩展图标后出现的弹窗中对特定网站或页面禁用 / 启用网页划词。"),l.a.createElement("p",null,"无论是否启用了网页划词，你都可以使用以下方式获取翻译结果："),l.a.createElement(o.O,null,l.a.createElement("li",null,"使用辅助键（需要先至少选择一个辅助键）：",l.a.createElement(o.O,null,l.a.createElement("li",null,"在按住全部辅助键不放的情况下，可以选择”划词后直接弹出翻译窗口”或”开启鼠标悬浮取词“。"),l.a.createElement("li",null,"松开辅助键后，翻译页面中选中的文本。（需启用）"),l.a.createElement("li",null,"按住全部辅助键不放时，让页面中的链接可被选中。（需启用）"))),l.a.createElement("li",null,"使用快捷键。划词翻译支持这些快捷键：",l.a.createElement(o.O,null,v.map((e=>{const t=q[e.name||""];return l.a.createElement("li",{key:e.name},e.description||"激活该扩展程序","（",e.shortcut||"未设置","）",t&&"：",t)})))),l.a.createElement("li",null,"使用右键菜单：",l.a.createElement(o.O,null,l.a.createElement("li",null,"划词后从右键菜单中选择“翻译选中的文本”会直接弹出翻译结果。在浏览器的内置页面中只能使用右键菜单翻译的方式。")))))),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"划词设置"},"划词设置"),l.a.createElement(o.m,{helperText:"如果你只想用辅助键、快捷键和右键菜单的方式获取翻译结果，你可以勾选此选项，避免每次划词后都显示翻译按钮。"},l.a.createElement(o.g,{label:"禁用网页划词",checked:u,onChange:e=>{const t=e.target.checked;c((e=>{const a=e.domainBlackList,n=a.findIndex((e=>e.host===I.host&&e.path===I.path));t&&n>=0||!t&&n<0||(t?a.unshift(I):a.splice(n,1))}))}})),l.a.createElement(o.m,{label:"翻译按钮"},l.a.createElement(o.g,{disabled:u,label:"划词后先显示翻译按钮",checked:a.button,onChange:e=>{c({button:e.target.checked})}}),l.a.createElement("p",{className:"bp3-text-muted bp3-text-small"},"勾选后，划词之后会先显示翻译按钮，点击按钮后才会弹出翻译结果；如果不勾选，那么划词后会直接弹出翻译结果。"),l.a.createElement(o.g,{disabled:u||!a.button,label:"自动隐藏",checked:a.buttonAutoClose,onChange:e=>{c({buttonAutoClose:e.target.checked})}}),l.a.createElement("p",{className:"bp3-text-muted bp3-text-small"},"勾选“自动隐藏”后，翻译按钮会在 2 秒后自动隐藏。")),l.a.createElement(o.m,{label:"网址筛选"},l.a.createElement("p",{className:"bp3-text-small bp3-text-muted"},"划词翻译支持用黑 / 白名单规则控制在某些网址下是否启用网页划词。禁用了网页划词的页面在用鼠标划词后不会显示翻译按钮或翻译窗口，而且扩展图标会变为灰色，但你仍然可以使用辅助键、快捷键和右键菜单获取翻译结果。"),l.a.createElement("p",null,l.a.createElement(o.d,{onClick:()=>{t((e=>!e))}},e?"隐藏":"显示","黑 / 白名单规则")),l.a.createElement("p",{className:"bp3-text-small bp3-text-muted"},"通常情况下，你不需要手动修改黑 / 白名单规则，因为你可以在点击扩展图标后出现的弹窗中便捷的禁用 / 启用网页划词。"),l.a.createElement(o.i,{isOpen:e,keepChildrenMounted:!0},l.a.createElement("div",{className:"list"},l.a.createElement(K,{disabled:u,rules:a.domainBlackList,setRules:e=>{c({domainBlackList:e})},name:"黑名单"}),l.a.createElement(K,{disabled:u,rules:a.domainWhiteList,setRules:e=>{c({domainWhiteList:e})},name:"白名单"})),l.a.createElement(o.r,null,"测试黑 / 白名单"),l.a.createElement(o.m,null,l.a.createElement(o.u,{value:d,onChange:e=>{E(e.target.value.trim())},placeholder:"你可以填写一个网址来测试是否命中了黑名单或白名单"}),d&&!p&&l.a.createElement(o.e,{intent:"warning"},"网址格式不正确"),h&&l.a.createElement(o.e,null,g&&"没有命中白名单且","命中了",l.a.createElement("b",null,b?"白":"黑","名单"),"中的"," ",l.a.createElement(o.h,null,Object(D.e)(h))," 规则，此网址下会",l.a.createElement("b",null,b?"开启":"关闭"),"网页划词功能。"),p&&!g&&!b&&l.a.createElement(o.e,null,"既没有命中白名单，也没有命中黑名单，此网址下会开启网页划词功能。")))),l.a.createElement(o.m,{label:"文本筛选"},a.textList.map((e=>l.a.createElement("div",{key:e.name},l.a.createElement(o.g,{disabled:u,label:e.name,checked:e.enabled,onChange:()=>{return t=e,void c((e=>{const a=e.textList,n=Object(B.d)(a).indexOf(t);if(n>=0){const e=a[n];e.enabled=!e.enabled}}));var t}}),l.a.createElement("p",{className:"bp3-text-small bp3-text-muted"},e.description))))),l.a.createElement(o.m,{helperText:"弹窗会先尝试朝这个方向显示，如果空间不够，它会自动调整方向确保处于可视区域内。"},l.a.createElement(o.F,{label:"弹窗显示方向",inline:!0,onChange:e=>{c({placement:e.target.value})},selectedValue:a.placement,className:"placement-group"},_.map((e=>l.a.createElement(o.E,{value:e.value,label:e.label,key:e.value})))))),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"辅助键"},"辅助键"),l.a.createElement(o.m,{label:"选择辅助键",helperText:l.a.createElement(l.a.Fragment,null,"当选中的辅助键",l.a.createElement("b",null,l.a.createElement("i",null,"全部")),"按下不放时会触发下面的操作。")},l.a.createElement(o.g,{inline:!0,labelElement:l.a.createElement(l.a.Fragment,null,l.a.createElement("kbd",null,"Ctrl"),"/",l.a.createElement("kbd",null,"⌘")),checked:a.modifierKeys.includes("ctrl"),onChange:()=>{r("ctrl")}}),l.a.createElement(o.g,{inline:!0,labelElement:l.a.createElement(l.a.Fragment,null,l.a.createElement("kbd",null,"Alt"),"/",l.a.createElement("kbd",null,"⌥")),checked:a.modifierKeys.includes("alt"),onChange:()=>{r("alt")}}),l.a.createElement(o.g,{inline:!0,labelElement:l.a.createElement("kbd",null,"Shift"),checked:a.modifierKeys.includes("shift"),onChange:()=>{r("shift")}})),l.a.createElement(o.m,null,l.a.createElement(o.F,{inline:!0,disabled:i,label:"在按住辅助键不放的情况下：",selectedValue:a.modifierKeyPressedAction,onChange:e=>{c({modifierKeyPressedAction:e.currentTarget.value})}},l.a.createElement(o.E,{label:"不选择",value:""}),l.a.createElement(o.E,{label:"划词后直接弹出翻译结果",value:"selection"}),l.a.createElement(o.E,{label:"开启鼠标悬浮取词",value:"hover"}),1===a.modifierKeys.length&&"ctrl"===a.modifierKeys[0]&&"selection"===a.modifierKeyPressedAction&&l.a.createElement(o.e,{intent:"warning"},"单独使用",l.a.createElement("kbd",null,"Ctrl"),"/",l.a.createElement("kbd",null,"⌘"),"作为辅助键时，选择“划词后直接弹出翻译结果”可能会导致你用",l.a.createElement("kbd",null,"Ctrl"),"/",l.a.createElement("kbd",null,"⌘"),"+",l.a.createElement("kbd",null,"C"),"复制文本时误触翻译。如果你遇到了这个问题，请替换或添加其它辅助键。")),l.a.createElement(o.g,{disabled:i,label:"松开辅助键后，翻译页面中选中的文本",checked:a.modifierKeyTranslate,onChange:e=>{c({modifierKeyTranslate:e.target.checked})}}),1===a.modifierKeys.length&&"ctrl"===a.modifierKeys[0]&&a.modifierKeyTranslate&&l.a.createElement(o.e,{intent:"warning"},"单独使用",l.a.createElement("kbd",null,"Ctrl"),"/",l.a.createElement("kbd",null,"⌘"),"作为辅助键时，启用此选项会导致你在文本框中选中文本后，用",l.a.createElement("kbd",null,"Ctrl"),"/",l.a.createElement("kbd",null,"⌘"),"+",l.a.createElement("kbd",null,"Space"),"切换输入法时误触翻译。如果你想避免这个问题，请替换或添加其它辅助键。"),l.a.createElement(o.g,{disabled:i,label:"按住辅助键不放时，让页面中的链接可被选中",checked:a.modifierKeyLink,onChange:e=>{c({modifierKeyLink:e.target.checked})}}))),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"快捷键"},"快捷键"),l.a.createElement("p",{className:"bp3-text-muted"},l.a.createElement(l.a.Fragment,null,"请前往",l.a.createElement("a",{onClick:H},"键盘快捷键页面"),"修改这些快捷键。",l.a.createElement("a",{href:"https://hcfy.limingkai.cn/faq.html#%E4%BF%AE%E6%94%B9%E5%BF%AB%E6%8D%B7%E9%94%AE%E5%90%8E%E6%B2%A1%E6%9C%89%E7%94%9F%E6%95%88",target:"_blank",rel:"noreferrer"},"修改后没有生效？")),!1),v.map((e=>l.a.createElement(o.m,{key:e.name,label:e.description||"激活该扩展程序",helperText:q[e.name]},l.a.createElement("input",{type:"text",className:"bp3-input",value:e.shortcut||"未设置",readOnly:!0})))))):null}var U=a(52);const z=l.a.createElement(o.N,{interactionKind:"hover",hoverCloseDelay:300,content:l.a.createElement((function(){const{setShowVip:e}=Object(n.useContext)(b);return l.a.createElement(l.a.Fragment,null,"这是一个会员功能，请在",l.a.createElement("a",{onClick:()=>e(!0)},"开通会员"),"后使用。")}),null)},l.a.createElement(o.K,{style:{top:"3px"},icon:"crown"},"会员功能"));var W,J;const G=Object(w.a)(O.a,["width","destination","secondDestination","showTextArea","autoClipboard","autoPlay","autoCopy","recentUseLangFrom","recentUseLangTo","pin","pinPos","panelPos","panelSize","sourceTransformNoBr","sourceTransformNCaml","sourceTransformNoComment"]),$=!!(null===(J=null===(W=null===window||void 0===window?void 0:window.chrome)||void 0===W?void 0:W.windows)||void 0===J?void 0:J.onBoundsChanged);function Q(){browser.runtime.sendMessage({action:"save along panel size"}).then((e=>{e||window.confirm("请先打开独立翻译窗口，调整好独立窗口的位置和宽高后再点击此按钮保存。\n\n是否要立刻打开独立翻译窗口？")&&browser.runtime.sendMessage({action:"open panel"})}))}const X=l.a.createElement(o.K,{htmlTitle:"此选项可以直接在翻译面板的快捷设置中调整。",minimal:!0},"快捷选项");function Y(){const{user:e}=Object(n.useContext)(b),[t,a]=Object(x.a)(G);return l.a.createElement("div",null,l.a.createElement(o.n,{id:"翻译面板"},"翻译面板"),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"通用设置"},"通用设置"),l.a.createElement(o.m,{label:"字体和按钮大小"},l.a.createElement(o.F,{inline:!0,onChange:e=>{a({panelSize:e.target.value})},selectedValue:(null==t?void 0:t.panelSize)||G.panelSize},l.a.createElement(o.E,{label:"小",value:"small"}),l.a.createElement(o.E,{label:"中",value:"middle"}),l.a.createElement(o.E,{label:"大",value:"large"}))),l.a.createElement(o.m,{label:"目标语种",labelInfo:X},"优先翻译为"," ",l.a.createElement(U.a,{lang:t?t.destination:G.destination,setLang:e=>{a({destination:e})}}),"，若源语种也是",t?t.destination:G.destination,"，则翻译为"," ",l.a.createElement(U.a,{lang:t?t.secondDestination:G.secondDestination,setLang:e=>{a({secondDestination:e})}})),l.a.createElement(o.m,{helperText:"点击扩展图标或使用全局快捷键打开独立窗口时，自动读取剪切板的内容并翻译"},l.a.createElement(o.J,{label:"自动读取剪切板",checked:t?t.autoClipboard:G.autoClipboard,onChange:e=>{a({autoClipboard:e.target.checked})}})),l.a.createElement(o.m,{helperText:"翻译后如果第一个翻译源可以朗读，则自动朗读被翻译的文本。为避免朗读时间过长，如果被翻译的文本超过了 30 个字符则不会朗读。"},l.a.createElement(o.J,{labelElement:l.a.createElement(l.a.Fragment,null,"自动朗读 ",X),checked:t?t.autoPlay:G.autoPlay,onChange:e=>{a({autoPlay:e.target.checked})}})),l.a.createElement(o.m,{helperText:"翻译后如果第一个翻译源有翻译结果，则自动将翻译结果复制进剪切板。"},l.a.createElement(o.J,{labelElement:l.a.createElement(l.a.Fragment,null,"自动复制 ",X," ",z),disabled:!(null==e?void 0:e.vipActivated),checked:t?t.autoCopy:G.autoCopy,onChange:e=>{a({autoCopy:e.target.checked})}})),l.a.createElement(o.m,{label:"翻译源",helperText:"此设置项的位置移动到了左侧菜单的“翻译源” - “启用翻译源”。"}),l.a.createElement(o.m,{className:"source-text-option",label:l.a.createElement(l.a.Fragment,null,"源文本处理",z),helperText:l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,"在翻译之前对源文本进行处理以提高翻译准确度。"),l.a.createElement(o.O,null,l.a.createElement("li",null,"去掉换行符：部分网站如"," ",l.a.createElement("a",{href:"https://www.rfc-editor.org/rfc/rfc6633.txt",target:"_blank",rel:"noreferrer"},"RFCs 文档站"),"在文本中自行加入了换行符，这导致翻译结果不是按照完整的句子翻译的，勾选此选项即可去除源文本里的所有换行符。"),l.a.createElement("li",null,"去掉双斜线：部分代码使用双斜线 // 作为代码注释，勾选此选项即可去掉文本中的所有双斜线。如果同时勾选了“去掉换行符”，则可以正常翻译多行注释。"),l.a.createElement("li",null,"转换驼峰式或下划线式词组：部分网站如 GitHub 里查看代码时，有很多驼峰式或下划线式的词组如“someData”、“click_by_someone”，勾选此选项后，如果源文本是驼峰式或下划线式词组，则会转换成“some data”、“click by someone”这类形式。")),l.a.createElement("div",null,"如果你希望划词翻译添加其它处理方式，可以",l.a.createElement("a",{href:"https://hcfy.limingkai.cn/issues.html",target:"_blank",rel:"noreferrer"},"反馈给我"),"。"))},l.a.createElement(o.g,{label:"去掉换行符",inline:!0,disabled:!(null==e?void 0:e.vipActivated),checked:t?t.sourceTransformNoBr:G.sourceTransformNoBr,onChange:e=>{a({sourceTransformNoBr:e.target.checked})}}),l.a.createElement(o.g,{label:"去掉双斜线（//）",inline:!0,disabled:!(null==e?void 0:e.vipActivated),checked:t?t.sourceTransformNoComment:G.sourceTransformNoComment,onChange:e=>{a({sourceTransformNoComment:e.target.checked})}}),l.a.createElement(o.g,{label:"转换驼峰式和下划线式词组",inline:!0,disabled:!(null==e?void 0:e.vipActivated),checked:t?t.sourceTransformNCaml:G.sourceTransformNCaml,onChange:e=>{a({sourceTransformNCaml:e.target.checked})}}))),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"网页划词面板"},"网页划词面板"),l.a.createElement(o.m,{helperText:"是否要在网页划词面板中显示文本框。在独立翻译窗口和扩展图标窗口中将始终显示文本框"},l.a.createElement(o.g,{labelElement:l.a.createElement(l.a.Fragment,null,"显示文本框 ",X),checked:t?t.showTextArea:G.showTextArea,onChange:e=>{a({showTextArea:e.target.checked})}})),l.a.createElement(o.m,{label:"面板宽度",helperText:"拖动面板的左右边缘可以调整面板的宽度"},l.a.createElement(o.u,{disabled:!0,value:t?t.width+"px":G.width+"px"})),l.a.createElement(o.m,{helperText:"固定状态下，面板不会跟随浏览器滚动。点击面板左上角的图钉可以切换固定状态。"},"是否固定：",(t?t.pin:G.pin)?"是":"否"),t&&t.pinPos&&l.a.createElement(o.m,{label:"面板位置",helperText:"面板距离浏览器左上角的距离。拖动面板可以改变面板的位置。"},"左边距：",t.pinPos.x,"px",l.a.createElement("br",null),"上边距：",t.pinPos.y,"px")),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"独立翻译窗口"},"独立翻译窗口"),t&&l.a.createElement(o.m,{label:"位置和宽高",helperText:l.a.createElement(l.a.Fragment,null,$&&"每当你对独立窗口进行调整后都会自动保存位置和宽高。",!$&&"请点击上方按钮保存独立窗口的位置和宽高。将浏览器升级到最新版本即可支持自动保存。",!$&&!1)},l.a.createElement("p",null,"上边距：",t.panelPos.top,"px 左边距：",t.panelPos.left,"px",l.a.createElement("br",null),"宽度：",t.panelPos.width,"px 高度：",t.panelPos.height,"px"),!$&&l.a.createElement(o.d,{onClick:Q},"保存独立窗口的位置和宽高"))))}var Z=a(45),ee=a(112);const te=Object(w.a)(O.a,["selectedAPIs","selectedExternalLinks"]);function ae(){const[e,t]=Object(x.a)(te);return l.a.createElement("div",null,l.a.createElement(o.n,{id:"翻译源"},"翻译源"),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"启用翻译源"},"启用翻译源"),l.a.createElement(o.m,{label:"直接显示结果",labelInfo:X,helperText:"这些翻译源的结果会直接在翻译面板上显示出来。"},Z.a.map((a=>l.a.createElement(o.g,{inline:!0,label:a.name,key:a.value,checked:!!e&&e.selectedAPIs.includes(a.value),onChange:e=>{const n=a.value;t((t=>{const a=t.selectedAPIs,l=a.indexOf(n);e.target.checked?l<0&&a.push(n):l>=0&&a.splice(l,1)}))}})))),l.a.createElement(o.m,{label:"跳转链接",helperText:"这些翻译源暂时以跳转链接的形式提供，未来可能会逐步替换成直接显示的形式。"},l.a.createElement("div",{className:"external-translators"},ee.a.map((a=>l.a.createElement("div",{key:a.id},l.a.createElement(o.g,{inline:!0,label:a.name,checked:!!e&&e.selectedExternalLinks.includes(a.id),onChange:e=>{const n=a.id;t((t=>{const a=t.selectedExternalLinks,l=a.indexOf(n);e.target.checked?l<0&&a.push(n):l>=0&&a.splice(l,1)}))}}),l.a.createElement(o.b,{minimal:!0,small:!0,icon:l.a.createElement(o.t,{icon:"share",iconSize:12}),target:"_blank",href:a.home}))))))))}const ne=Object(w.a)(O.a,["audioVolume","audioRate"]);function le(){const[e,t]=Object(x.a)(ne);return e?l.a.createElement("div",null,l.a.createElement(o.n,{id:"语音朗读"},"语音朗读"),l.a.createElement(o.f,null,l.a.createElement(o.p,{id:"音量和语速"},"音量和语速"),l.a.createElement(o.m,{label:"音量"},l.a.createElement(o.H,{min:0,max:100,stepSize:1,labelStepSize:20,value:e.audioVolume,onChange:e=>{t({audioVolume:e})}})),l.a.createElement(o.m,{label:"语速"},l.a.createElement(o.H,{min:0,max:4,stepSize:.01,labelStepSize:1,value:e.audioRate,onChange:e=>{t({audioRate:e})}})))):null}const ce=[{divider:!0,text:"通用"},"深色模式","PDF","通知",{divider:!0,text:"网页划词"},"使用方式","划词设置","辅助键","快捷键",{divider:!0,text:"翻译面板"},"通用设置","网页划词面板","独立翻译窗口",{divider:!0,text:"翻译源"},"启用翻译源",{divider:!0,text:"语音朗读"},"音量和语速"];function re(){const e=Object(i.f)(),t=Object(i.g)(),a=Object(n.useMemo)((()=>decodeURIComponent(t.hash.slice(1))),[t.hash]);return Object(n.useEffect)((()=>{window.setTimeout((()=>{const e=document.getElementById(a);e&&(e.scrollIntoView(),document.documentElement.scrollTop-=85)}))}),[a]),l.a.createElement("div",{className:"wrapper"},l.a.createElement("div",{className:"nav"},l.a.createElement(o.f,null,l.a.createElement(o.v,null,ce.map((t=>"string"==typeof t?l.a.createElement(o.x,{text:t,onClick:()=>{e.push("/#"+t)},active:a===t,key:t}):l.a.createElement(o.w,{title:t.text,key:t.text})))))),l.a.createElement("div",{className:"content"},l.a.createElement(S,null),l.a.createElement(V,null),l.a.createElement(Y,null),l.a.createElement(ae,null),l.a.createElement(le,null)))}const ie=a(57).a?"https://microsoftedge.microsoft.com/addons/detail/oikmahiipjniocckomdccmplodldodja":"https://chrome.google.com/webstore/detail/ikhdkkncnoglghljlkmcimlnlhkeamad";function me(){return l.a.createElement("div",{style:{margin:"15px"}},l.a.createElement(o.n,{id:"关于"},"关于划词翻译"),l.a.createElement("p",null,"划词翻译是一款简单好用的翻译软件，支持桌面端的 Chrome、Edge 和 Firefox 浏览器。"),l.a.createElement("p",null,"划词翻译由我个人创建于 2013 年，并持续维护至今。",l.a.createElement("a",{target:"_blank",rel:"noreferrer",href:"https://hcfy.limingkai.cn/histroy.html"},"查看划词翻译大事记")),l.a.createElement("p",null,"如果你在使用过程中遇到了问题、或者想要新的功能，可以点击下方按钮反馈给我："),l.a.createElement("p",null,l.a.createElement(o.b,{text:"反馈问题",href:"https://hcfy.limingkai.cn/issues.html",target:"_blank",rel:"noreferrer"})),l.a.createElement("p",null,"在其它浏览器上安装划词翻译的方式点这里："),l.a.createElement("p",null,l.a.createElement(o.b,{text:"安装划词翻译",href:"https://hcfy.limingkai.cn/",target:"_blank",rel:"noreferrer"})),l.a.createElement("p",null,"如果你觉得划词翻译很好用，请给它一个五星好评！"),l.a.createElement("p",null,l.a.createElement(o.b,{text:"给划词翻译一个五星好评",href:ie,target:"_blank",rel:"noreferrer"})))}var se=a(336),oe=a(343),ue=a(337),de=a(171),Ee=a(342),pe=a(130),he=a(300);const be={end:!0,rows:[],loading:!1,selectedRows:[],searchText:"",latestDate:void 0},ge=(e,t)=>Object(B.b)(e,(e=>{switch(t.type){case"reset":return be;case"set":return void t.cb(e);case"set latestDate":const a=Object(he.a)(e.rows);return a?void(e.latestDate=a.date):void(e.latestDate=void 0);case"append data":if(e.end=t.data.length<100,!t.data.length)return;return void e.rows.push(...t.data);case"switch-check":const n=e.selectedRows.indexOf(t.id);return void(n>=0?e.selectedRows.splice(n,1):e.selectedRows.push(t.id))}}));function fe(e,t,a){const[l,c]=Object(n.useState)(0),[r,i]=Object(n.useReducer)(ge,be),m=Object(n.useCallback)((()=>{i({type:"set latestDate"})}),[]);Object(n.useEffect)((()=>{if(r.end)return;const e=()=>{document.documentElement.scrollTop+window.innerHeight===document.documentElement.scrollHeight&&m()};return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}}),[m,r.end]),Object(n.useEffect)((()=>{let t=!1;return i({type:"set",cb(e){e.loading=!0}}),e(100,r.latestDate,r.searchText).then((e=>{t||(i({type:"set",cb(e){e.loading=!1}}),i({type:"append data",data:e}))})),()=>{t=!0}}),[r.searchText,r.latestDate,l,e]);return Object(n.useEffect)((()=>{t&&a.pull(t.vipActivated).then((e=>{e&&(i({type:"reset"}),c((e=>e+1)))}))}),[a,t]),{tableData:r,queryNextPage:m,deleteSelected:()=>a.deleteById(r.selectedRows,!!t&&t.vipActivated).then((()=>{i({type:"set",cb(e){e.rows=e.rows.filter((e=>!r.selectedRows.includes(e.id))),e.selectedRows=[]}})})),clearData:()=>a.deleteAll(!!t).then((()=>{i({type:"set",cb(e){e.selectedRows=[],e.end=!0,e.rows=[],e.latestDate=void 0,e.searchText=""}})})),setSearchText:e=>{i({type:"set",cb(t){e!==t.searchText&&(t.end=!0,t.rows=[],t.searchText=e.trim(),t.latestDate=void 0)}})},cancelSelected:()=>{i({type:"set",cb(e){e.selectedRows=[]}})},switchCheck:e=>{i({type:"switch-check",id:e})}}}const ve=Object(w.a)(O.a,["historyEnabled","historySyncEnabled"]);function ye(e){const t=new Date(e);return Object(E.a)(t)?Object(p.a)(t,"b K:mm",{locale:Ee.a}):""}function ke(e){return new URL(e).hostname}function xe(){const[e,t]=Object(x.a)(ve),a=e||ve,{user:c}=Object(n.useContext)(b),[r,i]=Object(n.useState)(!1),[m,s]=Object(n.useState)(!1),{tableData:u,queryNextPage:d,deleteSelected:h,clearData:g,setSearchText:f,cancelSelected:v,switchCheck:y}=fe(pe.b,c,pe.a),k=Object(n.useMemo)((()=>{const e=[];let t,a;return u.rows.forEach((n=>{!t||Object(ue.a)(t,n.date)?(t=Object(de.a)(n.date),a=[n],e.push({date:t,items:a})):a.push(n)})),e}),[u.rows]);return l.a.createElement("div",{id:"history-records"},l.a.createElement(o.a,{cancelButtonText:"取消",confirmButtonText:"确定",intent:"danger",isOpen:r,icon:"trash",onClose:e=>{e&&h(),i(!1)}},l.a.createElement("p",null,"确定要删除这些记录吗？")),l.a.createElement(o.a,{cancelButtonText:"取消",confirmButtonText:"确定",icon:"trash",intent:"danger",isOpen:m,onClose:e=>{e&&g(),s(!1)}},l.a.createElement("p",null,"确定要清空历史记录吗？")),l.a.createElement("div",{className:"actions"},l.a.createElement("div",{className:"actions-left"},l.a.createElement(o.u,{className:"search-input",placeholder:"搜索历史记录",rightElement:u.searchText?l.a.createElement(o.d,{icon:"cross",minimal:!0,onClick:()=>{f("")}}):void 0,value:u.searchText,onChange:e=>{const t=e.target.value;f(t)}}),u.selectedRows.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.d,{text:`删除选中的记录（${u.selectedRows.length}）`,intent:"primary",style:{marginLeft:"10px"},onClick:()=>{i(!0)}}),l.a.createElement(o.d,{text:"取消选择",style:{margin:"0 10px"},onClick:v}),l.a.createElement(o.d,{intent:"danger",text:"清空历史记录",onClick:()=>{s(!0)}})):void 0),l.a.createElement("div",{className:"actions-right"},l.a.createElement(o.g,{label:"启用历史记录",inline:!0,checked:a.historyEnabled,onChange:e=>{t({historyEnabled:e.target.checked})}}))),l.a.createElement("div",{className:"actions-bg",style:{height:"60px"}}),l.a.createElement("div",{style:{padding:"0 15px 15px 15px"}},k.map((({date:e,items:t})=>l.a.createElement(o.f,{key:e.getTime()},l.a.createElement(o.o,null,function(e){if(!Object(E.a)(e))return"";let t="";return Object(se.a)(e)?t="今天 - ":Object(oe.a)(e)&&(t="昨天 - "),t+Object(p.a)(e,"yyyy 年 M 月 d 日 EEEE",{locale:Ee.a})}(e)),t.map((e=>{return l.a.createElement("p",{key:e.id,className:"history-item"},l.a.createElement("span",{className:"date"},l.a.createElement(o.g,{checked:u.selectedRows.includes(e.id),labelElement:l.a.createElement("span",{className:"bp3-text-muted"},ye(e.date)),onChange:()=>{y(e.id)}})),l.a.createElement("span",{className:"text"},e.text),(t=e.url).startsWith("chrome-extension://")||t.startsWith("moz-extension://")?l.a.createElement("span",{className:"bp3-text-small bp3-text-muted hostname",onClick:()=>{f("划词翻译")}},e.title):l.a.createElement(l.a.Fragment,null,l.a.createElement("img",{src:e.favicon,width:"12px",height:"12px",alt:""}),l.a.createElement("a",{className:"bp3-text-overflow-ellipsis",href:e.url,target:"_blank",rel:"noreferrer",title:e.title||e.url},e.title||e.url),l.a.createElement("span",{className:"bp3-text-small bp3-text-muted hostname",onClick:()=>{const t=ke(e.url);f(t)}},ke(e.url))));var t}))))),!u.loading&&!u.end&&l.a.createElement(o.d,{onClick:d,text:"加载更多"}),u.loading&&l.a.createElement(o.I,null),!u.loading&&!u.rows.length&&l.a.createElement(o.C,{icon:"blank",title:u.searchText?"没有搜索结果":"无历史记录",description:a.historyEnabled?"":"若要记录翻译历史，请勾选上方的“启用历史记录”。"})))}var Oe=a(60),we=a(3),Ce=a.n(we),je=a(111),Te=a(67),Se=a(110);const Ne=["BaiDuWeb","YouDaoWeb","GoogleWeb"];function Pe(e){const{item:t,selected:a,switchSelected:c}=e,[r,i]=Object(n.useState)({});return Object(n.useEffect)((()=>{t.results&&i(t.results)}),[t]),Object(n.useEffect)((()=>{if(t.results)return;const e=t.dir;if(e){const a={};Promise.all(Ne.map((n=>(async(e,t,a,n)=>{const l=Object(Se.a)(t);if(l)try{return l.translate(e,n,{source:a})}catch(e){}})(t.text,n,e.from,e.to).then((e=>{e&&(a[n]=e)}))))).then((()=>{i(a),Oe.a.table.update(t.id,{results:a})}))}}),[t]),l.a.createElement(o.f,{className:Ce()("favorite-item",{active:a}),interactive:!0,onClick:()=>{c(t.id)}},l.a.createElement(o.p,null,t.text),Object.keys(r).map((e=>l.a.createElement(je.a,{key:e,apiId:e,result:{loading:!1,result:{data:r[e]||null,error:null}},queryResult:Te.a,wordClickable:!1}))))}const Fe=Object(w.a)(O.a,["favoritesEnabled"]);function De(){const[e,t]=Object(x.a)(Fe),a=e||Fe,{user:c}=Object(n.useContext)(b),[r,i]=Object(n.useState)(!1),[m,s]=Object(n.useState)(!1),{tableData:u,queryNextPage:d,deleteSelected:E,clearData:p,setSearchText:h,cancelSelected:g,switchCheck:f}=fe(Oe.d,c,Oe.a);return l.a.createElement("div",{id:"favorites"},l.a.createElement(o.a,{cancelButtonText:"取消",confirmButtonText:"确定",intent:"danger",isOpen:r,icon:"trash",onClose:e=>{e&&E(),i(!1)}},l.a.createElement("p",null,"确定要删除吗？")),l.a.createElement(o.a,{cancelButtonText:"取消",confirmButtonText:"确定",icon:"trash",intent:"danger",isOpen:m,onClose:e=>{e&&p(),s(!1)}},l.a.createElement("p",null,"确定要清空收藏夹吗？")),l.a.createElement("div",{className:"actions"},l.a.createElement("div",{className:"actions-left"},l.a.createElement(o.u,{className:"search-input",placeholder:"搜索收藏夹",rightElement:u.searchText?l.a.createElement(o.d,{icon:"cross",minimal:!0,onClick:()=>{h("")}}):void 0,value:u.searchText,onChange:e=>{const t=e.target.value;h(t)}}),u.selectedRows.length?l.a.createElement(l.a.Fragment,null,l.a.createElement(o.d,{text:`删除选中的收藏（${u.selectedRows.length}）`,intent:"primary",style:{marginLeft:"10px"},onClick:()=>{i(!0)}}),l.a.createElement(o.d,{style:{margin:"0 10px"},text:"取消选择",onClick:g}),l.a.createElement(o.d,{intent:"danger",text:"清空收藏夹",onClick:()=>{s(!0)}})):void 0),l.a.createElement("div",{className:"actions-right"},l.a.createElement(o.g,{label:"启用收藏功能",inline:!0,checked:a.favoritesEnabled,onChange:e=>{t({favoritesEnabled:e.target.checked})}}))),l.a.createElement("div",{className:"actions-bg",style:{height:"60px"}}),l.a.createElement("div",{className:"favorite-list"},u.rows.map((e=>l.a.createElement(Pe,{key:e.id,item:e,selected:u.selectedRows.includes(e.id),switchSelected:f})))),!u.loading&&!u.end&&l.a.createElement(o.d,{onClick:d,text:"加载更多"}),u.loading&&l.a.createElement(o.I,null),!u.loading&&!u.rows.length&&l.a.createElement(o.C,{icon:"blank",title:u.searchText?"没有搜索结果":"无收藏",description:a.favoritesEnabled?"如果你不需要收藏功能，可以取消勾选上方的“启用收藏功能”，这样翻译面板上的收藏图标就会消失。":""}))}var Le=a(44);let Re=!1;const Ae=o.M.create({maxToasts:2}),Ke={401:"您的登录状态已失效，请重新登录。",500:"服务器内部产生了一个错误，请稍后重试。"};var Be=a(141);const Me=a.n(Be).a.create({baseURL:"https://hcfy.limingkai.cn/"});var Ie=a(338);function _e(e){const{user:t,onPayButtonClick:a,onGoLoginClick:n}=e,c=h(t),r=Object(Ie.a)((async()=>(await Me.get("/vip-short-summary.html")).data),[]);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bp3-dialog-body"},c.isOpened&&!(null==t?void 0:t.vipActivated)&&l.a.createElement("p",{className:"bp3-text-small"},"你的会员已过期"),r.loading?l.a.createElement("p",null,"正在加载会员简介，请稍候……"):r.error?l.a.createElement("p",null,"会员简介加载失败，请点击下方链接查看详细介绍。"):l.a.createElement("div",{dangerouslySetInnerHTML:{__html:r.value}}),l.a.createElement("a",{href:"https://hcfy.limingkai.cn/vip.html",target:"_blank",rel:"noreferrer"},"查看会员功能的详细介绍")),l.a.createElement("div",{className:"bp3-dialog-footer"},l.a.createElement("div",{className:"bp3-dialog-footer-actions",style:{alignItems:"center"}},!t&&l.a.createElement("a",{onClick:n},"已是会员？去登录"),l.a.createElement(o.d,{intent:"primary",text:c.text,onClick:a}))))}const He=o.M.create(),qe={email:"",pwd:"",vk:""};var Ve=Object(n.forwardRef)((function(e,t){const{onLogin:a,openType:c,tip:r}=e,[i,m]=Object(n.useState)(!1),[s,u]=Object(n.useState)(!1),E=Object(n.useRef)(null),p=Object(n.useRef)(null),[h,b]=Object(n.useState)(null),g="login"===c?"登录":"注册";Object(n.useEffect)((()=>{h&&h.focus()}),[h]);const[f,v]=Object(n.useState)(qe),[k,x]=Object(y.a)((async()=>{try{await d.a.post("/sendEmail",Object(w.a)(f,"email"))}catch(e){return void(Object(d.c)(e)&&He.show({intent:"warning",message:e.message}))}He.show({intent:"success",message:"验证码已发送到您的邮箱，请查收。"}),u(!0)}),[f]),[O,C]=Object(y.a)((async()=>{try{const e=await d.a.post("login"===c?"/login":"/register",f);a(e.data)}catch(e){Object(d.c)(e)&&He.show({intent:"warning",message:e.message})}}),[c,f,a]);return Object(n.useImperativeHandle)(t,(()=>({clear(){v(qe)},focus(e){var t,a;"user"===e?null===(t=E.current)||void 0===t||t.focus():"pwd"===e&&(null===(a=p.current)||void 0===a||a.focus())}})),[]),l.a.createElement("form",{onSubmit:e=>{e.preventDefault(),"register"!==c||s?C():x()}},l.a.createElement("div",{className:"bp3-dialog-body"},r,l.a.createElement(o.m,{label:"邮箱"},l.a.createElement(o.u,{disabled:O.loading,inputRef:E,value:f.email,onChange:e=>{v((t=>({...t,email:e.target.value})))},required:!0,type:"email",pattern:"\\b[\\w.-]+@[\\w.-]+\\.\\w{2,4}\\b"})),l.a.createElement(o.m,{label:"密码"},l.a.createElement(o.u,{disabled:O.loading,inputRef:p,value:f.pwd,onChange:e=>{v((t=>({...t,pwd:e.target.value})))},rightElement:l.a.createElement(o.d,{icon:i?"eye-open":"eye-off",minimal:!0,onClick:()=>{var e;m((e=>!e)),null===(e=p.current)||void 0===e||e.focus()}}),type:i?"text":"password",required:!0,minLength:6,maxLength:20})),s&&l.a.createElement(o.m,{label:"验证码"},l.a.createElement(o.u,{inputRef:b,disabled:O.loading,value:f.vk,onChange:e=>{v((t=>({...t,vk:e.target.value})))},required:!0}))),l.a.createElement("div",{className:"bp3-dialog-footer"},l.a.createElement("div",{className:"bp3-dialog-footer-actions",style:{alignItems:"center"}},l.a.createElement(o.d,{text:g,loading:k.loading||O.loading,type:"submit",intent:"primary",style:{marginLeft:"15px"}}))))}));function Ue(e){const{onPaid:t}=e,[a,c]=Object(n.useState)(""),r=Object(Ie.a)((async()=>{const e=(await Me.get("prices.json")).data;return c(e[0].value),e}),[]),i=Object(Ie.a)((async()=>{if(!a)return;return(await d.a.post("/getPayQR",{id:a})).data}),[a]),m=i.value;return Object(n.useEffect)((()=>{if(!m)return;const e=window.setInterval((async()=>{if(!m)return;let e;try{e=await d.a.get("/checkOrder",{params:{orderId:m.orderId}})}catch(e){return}e.data.paid&&t(e.data.user)}),1e3);return()=>{window.clearInterval(e)}}),[t,m]),l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bp3-dialog-body"},r.loading?l.a.createElement("p",null,"正在加载价格信息，请稍候……"):r.error?l.a.createElement("p",null,"价格信息加载失败，请稍后重试。"):l.a.createElement(o.F,{label:"请选择购买时长：",inline:!0,onChange:e=>{c(e.currentTarget.value)},selectedValue:a,options:r.value}),l.a.createElement("p",null,"请使用微信扫描下方二维码支付："),i.loading?l.a.createElement("p",null,"正在加载二维码，请稍候……"):i.error?l.a.createElement("p",null,"加载二维码时出错，请稍后重试。错误信息：",l.a.createElement("span",{style:{color:"#FFB366"}},i.error.message)):m&&l.a.createElement(l.a.Fragment,null,l.a.createElement("p",null,l.a.createElement("img",{src:m.qrUrl,width:280,height:280,alt:"微信支付二维码"})),l.a.createElement("div",{className:"bp3-text-muted"},"当您完成支付后，此页面会在 5 秒内自动跳转。"))))}var ze=a(339);const We=l.a.createElement(o.t,{icon:"tick-circle",intent:"success"});function Je(e){const{user:t,setUser:a,onPaySuccess:c}=e,r=Object(n.useRef)(),[i,m]=Object(n.useState)(t?1:0),[s,u]=Object(n.useState)([{text:"第一步：注册账号"},{text:"第二步：购买会员"},{text:"完成"}]);return Object(n.useEffect)((()=>{var e;switch(u((e=>{const t=Object(ze.a)(e);return t.forEach(((e,t)=>{t<i?(e.current=!1,e.icon=We):t===i?(e.current=!0,delete e.icon):(e.current=!1,delete e.icon)})),t})),i){case 0:return void(null===(e=r.current)||void 0===e||e.focus("user"))}}),[i]),l.a.createElement(l.a.Fragment,null,l.a.createElement(o.c,{className:"buy-steps",items:s}),0===i&&l.a.createElement(Ve,{ref:r,onLogin:e=>{a(e),m((e=>e+1))},openType:"register"}),1===i&&l.a.createElement(Ue,{onPaid:e=>{a(e),m((e=>e+1))}}),2===i&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"bp3-dialog-body"},"支付成功！您的会员到期时间为 ",h(t).endTime,"。"),l.a.createElement("div",{className:"bp3-dialog-footer"},l.a.createElement("div",{className:"bp3-dialog-footer-actions"},l.a.createElement(o.d,{text:"确定",intent:"primary",onClick:c})))))}function Ge(e){const{isOpen:t}=e,[a,c]=Object(n.useState)(0),{user:r,setUser:i,setShowVip:m,setShowLogin:s}=Object(n.useContext)(b),u=()=>{m(!1)},d=()=>{u(),c(0)};return l.a.createElement(o.k,{isOpen:t,canOutsideClickClose:!1,canEscapeKeyClose:!1,onClose:d,title:"开通会员"},0===a&&l.a.createElement(_e,{user:r,onPayButtonClick:()=>{c((e=>e+1))},onGoLoginClick:()=>{u(),s(!0)}}),1===a&&l.a.createElement(Je,{user:r,setUser:i,onPaySuccess:d}))}function $e(e){const{open:t}=e,a=Object(n.useRef)(),c=Object(n.useRef)(null),{setUser:r,setShowVip:i,setShowLogin:m}=Object(n.useContext)(b),s=()=>{var e;null===(e=a.current)||void 0===e||e.clear()},u="登录";return l.a.createElement(l.a.Fragment,null,l.a.createElement(v,{ref:c}),l.a.createElement(o.k,{isOpen:t,onClose:()=>{m(!1),s()},onClosed:s,onOpened:()=>{var e;null===(e=a.current)||void 0===e||e.focus("user")},title:u},l.a.createElement(Ve,{ref:a,onLogin:e=>{var t;m(!1),r(e),e.vipActivated?null===(t=c.current)||void 0===t||t.syncOptions():i(!0)},openType:"login",tip:l.a.createElement("p",null,"划词翻译无需",u,"即可免费使用，只有当你要用",l.a.createElement("a",{onClick:()=>{m(!1),i(!0)}},"会员功能"),"时才需要",u,"。")})))}s.a.onlyShowFocusOnTabs(),Re||(d.a.interceptors.response.use(Le.a,(e=>{const t={intent:"danger",message:""};if(Object(d.b)(e))if(e.response){const a=e.response.status;t.message=Ke[a]||"未知错误，请稍后重试。错误码："+a}else e.request?t.message="服务器没有响应，请稍后重试。":t.message=e.message;else Object(d.c)(e)&&"VIP_OUTDATED"===e.errorCode&&(t.message="您的会员已过期。");return t.message&&Ae.show(t),Promise.reject(e)})),Re=!0);const Qe="?vip"===window.location.search,Xe=Object(w.a)(O.b,"user");a(312);r.a.render(l.a.createElement(m.a,null,l.a.createElement((function(){Object(u.a)();const e=Object(i.g)(),[t,a]=Object(n.useState)(Qe),[c,r]=Object(n.useState)(!1),[s,d]=Object(x.a)(Xe),E=(null==s?void 0:s.user)||null;return l.a.createElement(b.Provider,{value:{setShowVip:a,user:E,setUser:e=>{d({user:e})},setShowLogin:r}},l.a.createElement(Ge,{isOpen:t}),l.a.createElement($e,{open:c}),l.a.createElement(k,null),l.a.createElement("div",{id:"main"},l.a.createElement(o.f,{id:"left-nav"},l.a.createElement(o.v,{large:!0,style:{position:"fixed"}},l.a.createElement(m.b,{to:"/"},l.a.createElement(o.x,{active:"/"===e.pathname,tagName:"span",icon:"cog",text:"设置"})),l.a.createElement(m.b,{to:"/stars"},l.a.createElement(o.x,{active:"/stars"===e.pathname,tagName:"span",icon:"folder-open",text:"收藏夹"})),l.a.createElement(m.b,{to:"/history"},l.a.createElement(o.x,{active:"/history"===e.pathname,tagName:"span",icon:"history",text:"历史记录"})),l.a.createElement(o.w,null),l.a.createElement(m.b,{to:"/about"},l.a.createElement(o.x,{active:"/about"===e.pathname,tagName:"span",icon:"info-sign",text:"关于划词翻译"})))),l.a.createElement("div",{className:"right-content"},l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/history"},l.a.createElement(xe,null)),l.a.createElement(i.a,{path:"/stars"},l.a.createElement(De,null)),l.a.createElement(i.a,{path:"/about"},l.a.createElement(me,null)),l.a.createElement(i.a,{path:"/"},l.a.createElement(re,null))))))}),null)),document.getElementById("app"))},57:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return c}));const n=window.navigator.userAgent,l=n.includes("Mac"),c=n.includes("Edg")}});