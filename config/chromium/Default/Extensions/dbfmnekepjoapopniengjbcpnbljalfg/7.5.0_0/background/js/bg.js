"use strict";var bg={isInstall:!1,isWallpaperInit:!1,init:function(){var s=this;chrome.runtime.onInstalled.addListener(function(i){if("install"==i.reason)s.isInstall=!0,s.checkWpAndInstallBothDone();else if("update"==i.reason){localStorage.showUpdateNote="off",infinity.alarms.clear("checkOpenTimes");i=infinity.get("infinity-searches");if(i){for(var n=!1,t=i.all,e=0,a=t.length;e<a;e++)if("dd3af9cc97ad7de8984baaf59514bb52"===t[e].seId){n=!0,t.splice(e,1);break}n&&(infinity.set("infinity-searches",i),infinity.sendMessage("reloadSearches"))}}}),oldData.init(function(){bgHome.init(),bgWallpaper.init(function(){s.isWallpaperInit=!0,s.checkWpAndInstallBothDone()}),bgUser.init(),bgSetting.init(),bgSearch.init(),bgData.init(),bgWeather.init(),bgCloudIcon.init(),bgTopsites.init(),bgGmail.init(),bgAutoBackup.init(),bgCloudApi.init(),chrome.runtime.setUninstallURL("https://uninstall.infinitynewtab.com/")})},checkWpAndInstallBothDone:function(){var i=this;i.isWallpaperInit&&i.isInstall&&(i.isInstall=!1,chrome.tabs.create({url:"chrome://newtab"}))}};bg.init();